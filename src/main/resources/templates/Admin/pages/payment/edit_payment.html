<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:insert="~{Admin/include/head.html :: head}"></head>
<body>
<div th:replace="~{Admin/include/header.html :: header}"></div>
<div th:replace="~{Admin/include/side.html :: aside}"></div>
<div class="payment-methods-table-container">
    <h2>Chỉnh sửa phương thức thanh toán</h2>
    <form th:action="@{/admin/payment-methods/{id}/edit(id=${paymentMethod.id})}" method="post">
    <input type="hidden" th:name="id" th:value="${paymentMethod.id}"/>
        <!-- Ẩn trường userId -->
        <input type="hidden" th:name="userId" th:value="${currentUserId}"/>
        <div class="form-group">
            <label for="userName">User Name:</label>
            <!-- Hiển thị thông tin tên người dùng đang đăng nhập -->
            <input type="text" class="form-control" id="userName" th:value="${currentUserName}" readonly/>
        </div>
        <div class="form-group">
            <label for="type">Loại:</label>
            <input type="text" class="form-control" id="type" th:value="${paymentMethod.type}" name="type"/>
        </div>
        <div class="form-group">
            <label for="provider">Nhà cung cấp:</label>
            <input type="text" class="form-control" id="provider" th:value="${paymentMethod.provider}" name="provider"/>
        </div>
        <div class="form-group">
            <label for="accountNo">Số tài khoản:</label>
            <input type="text" class="form-control" id="accountNo" th:value="${paymentMethod.accountNo}" name="accountNo"/>
        </div>
        <div class="form-group">
            <label for="expiryDate">Ngày hết hạn:</label>
            <input type="text" class="form-control" id="expiryDate" th:value="${paymentMethod.expiryDate}" name="expiryDate"/>
        </div>
        <button type="submit" class="btn btn-primary">Cập nhật</button>
        <a th:href="@{/admin/payment-methods}" class="btn btn-secondary">Quay lại</a>
    </form>
</div>
<div th:replace="~{Admin/include/footer.html :: footer}"></div>
<div th:replace="~{Admin/include/botton-footer.html :: .botton-footer}"></div>
<!-- JavaScript for confirmation dialog -->
<script th:inline="javascript">
    function confirmDelete(id) {
        if (confirm('Bạn có chắc chắn muốn xóa phương thức thanh toán này không?')) {
            window.location.href = '/admin/payment-methods/delete/' + id; // Chuyển hướng đến endpoint xóa
        }
    }
</script>
</body>
</html>
